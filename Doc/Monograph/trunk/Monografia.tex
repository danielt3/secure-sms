\documentclass[a4paper,capchap,espacoduplo,normaltoc]{abntepusp}

%\usepackage[bookmarks,pdftex,a4paper,colorlinks=true,citecolor=black,urlcolor=blue,linkcolor=black,pdfpagemode=None]{hyperref}
%\usepackage[bookmarks,a4paper,colorlinks=true,citecolor=black,urlcolor=blue,linkcolor=black,pdfpagemode=None]{hyperref}
\usepackage[centertags]{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage[brazil]{babel}
\usepackage[alf,abnt-repeated-author-omit=yes]{abntcite}
\usepackage{url}
\usepackage{winfonts}
\usepackage{txfonts}
\usepackage{tabela-simbolos}

\fontfamily{arial}\selectfont
\renewcommand{\rmdefault}{arial}

% Math -------------------------------------------------------------------
\newtheorem{theorem}{Teorema}{\bfseries}{\itshape}
\newtheorem{lemma}{Lema}{\bfseries}{\itshape}
\newtheorem{definition}{Definição}{\bfseries}{\itshape}
\newtheorem{corollary}{Corolário}{\bfseries}{\itshape}

\sloppy

\begin{document}

\renewcommand{\bibname}{Refer\^encias} % adaptação para ABNT/EPUSP

%\autorPoli{Eduardo}{Cruz}

%Gambis para definir múltiplos autores
\autor{\uppercase{Eduardo de Souza Cruz
	\\Geovandro Carlos Crepaldi Firmino Pereira
	\\Rodrigo Rodrigues da Silva}}
	
\renewcommand{\PoliAutorFichaCatalografica}{{Cruz, Eduardo de Souza\newline
 Pereira, Geovandro Carlos Crepaldi Firmino\newline
 Silva,Rodrigo Rodrigues}}
	
\titulo{Aplicativo Seguro de SMS}

\orientador{Prof. Dr. Paulo Sérgio Licciardi Messeder Barreto}

\monografiaFormatura
%\monografiaMBA
%\qualificacaoMSc{<Área do Mestrado>}
%\qualificacaoMSc{Enge\-nharia Elétrica}
%\dissertacao{<Área do Mestrado>}
%\qualificacaoDr{<Área do Mestrado>}
%\teseDr{<Área do Doutorado>}
%\teseLD
%\memorialLD

%\comentario{\vspace{1.5cm}
%	Trabalho de Conclusão de Curso
%	apresentado à Escola Politécnica da
%	Universidade de São Paulo para
%	obtenção do Título de Engenheiro da
%	Computação.}%
  
\areaConcentracao{Engenharia da Computação}

\departamento{Departamento de Engenharia de Computação e Sistemas Digitais (PCS)}

\local{São Paulo}

\data{2008}

\dedicatoria{}

%TODO: gerar a capa real

\capa{} %TODO: Isto está gerando na verdade a falsa folha de rosto

\folhaderosto{} %TODO: eliminar a quebra de página

%
% Ficha Catalográfica
% (deve ficar no verso da página de rosto)
%
\renewcommand{\PoliFichaCatalograficaData}{% TODO: consertar
  1. Criptografia. 2. Assunto \#2. 3. Assunto \#3.
  I. Universidade de São Paulo. Escola Politécnica.
  \PoliDepartamentoData. II. t.}

%\renewcommand{\PoliAutorFichaCatalografica}{{Cruz, Eduardo de Souza
%	\\Pereira, Geovandro Carlos Crepaldi Firmino
%	\\Silva, Rodrigo Rodrigues}}%

%TODO: porque ocorre 3 erros? Mas compila...
%\fichacatalografica % formata a ficha

\paginadedicatoria{}

\begin{agradecimentos}
%TODO
Agradeço a... etc etc etc 
\end{agradecimentos}

\begin{resumo}
Este trabalho consiste na especificação e implementação de um sistema que garanta serviços de segurança na troca de mensagens SMS entre aperelhos de telefonia celular. Ao longo da monografia, apresentaremos aspectos da nossa solução, um esquema criptográfico inovador que viabilizou a implementação, métricas, resultados de testes de desempenho, além de considerações sobre o andamento do trabalho.
%TODO: atualizar isso depois de ter feito tudo
\end{resumo}

\begin{abstract}
%TODO
This work consists in the specification and implementation of a system which is able to guarantee security services while exchanging SMS between

\end{abstract}

\tableofcontents

\listoffigures

\listoftables

%TODO: \sigla não funciona!!!
%To fazendo a lista de siglas na mão... consertar depois talvez
\listadesiglas{
\begin{center}
\textbf{SMS} - Short Message Service

%TODO: acrescentar as siglas aqui
%Existe uma norma, acho que é pra por na ordem de aparição no texto... ou em ordem alfabética.. não sei, TODO: confirmar nas diretrizes
\end{center}
}


\chapter{Introdução}
Atualmente não existem soluções universalmente adotadas para garantir segurança em mensagens SMS. Pelo método tradicional, as mensagens trafegam pela rede celular de forma insegura, passando obrigatoriamente por pelo menos um intermediário não 100\% confiável: a operadora do serviço de telefonia. As mensagens podem ficar armazenadas em texto plano no banco de dados da operadora \cite{loon}, de forma que pessoas mal intencionadas infiltradas no sistema podem ser capazes de visualizar, alterar e até enviar mensagens em nome de outra pessoa. Há também outros métodos para interceptar mensagens SMS. \cite{smsanalysis}. %TODO: quais métodos??? Tá mto pobre isso!

O sistema desenvolvido foi designado por "Aplicativo Seguro de SMS", ou, em uma forma abreviada e internacionalizada mais adequada ao mercado, "Secure-SMS", ou ainda "SSMS".  %TODO: manteremos o nome?
O objetivo do sistema é prover uma camada de segurança a nível de aplicação para mensagens SMS em redes de telefonia móvel. O software é capaz de assinar, cifrar, decifrar e verificar mensagens enviadas por SMS, de forma a garantir a identidade do remetente, e garantir que ela somente poderá ser lida pelo destinatário real, oferencendo assim os serviços de segurança: autenticidade, confidencialidade e integridade. %TODO: revisar isto depois

Apesar de implementado especificamente para ser executado em um telefone celular, garantindo a comunicação pessoal sigilosa, o mesmo esquema pode ser facilmente portado para outras plataformas que têm acesso à comunicação por SMS, como PDAs ou servidores. Desta forma, o esquema pode ser aplicado em áreas que requerem alto nível de segurança da informação que trafega nas redes de telefonia móvel, por exemplo aplicações militares, bancárias, e de comércio eletrônico.

%Como possíveis aplicações de nossa solução, podemos citar a realização de transações bancárias usando mensagens SMS, sistemas de %comunicação que requeiram confidencialidade e integridade (órgãos militares e governamentais, executivos de grandes empresas) ou apenas %usuários comuns em busca de maiores níveis de privacidade.

\section{Cenário} %Falar dos limitantes, processamento e tamanho de mensagem pequenos

O ambiente em questão não se mostra muito propício para práticas criptográficas. A largura de banda é muito pequena, visto que em cada mensagem SMS podem ser trafegados apenas 140 bytes binários. %Citar algo?
Além disto, existem limitações de processamento no dispositivo celular, que podem comprometer a usabilidade de um esquema criptográfico tradicional.

Talvez devido a estas dificuldades, o cenário atual não apresenta uma grande variedade de soluções abrangindo objetivos similares aos de nosso sistema, e não há uma solução universalmente adotada.

\chapter{Objetivos}

%fazer um sistema tão difícil de quebrar quanto um sistema vigente atualmente, como transações bancárias por https
O objetivo do trabalho é quebrar o paradigma atual, desafiar as dificuldades existentes, e produzir um sistema que garante segurança no intercâmbio de mensagens SMS entre dispositivos celulares sem afetar a usabilidade do serviço. Além disto, o nível de segurança obtido deve ser equiparável ao nível de segurança de aplicações de segurança vigentes atualmente, como por exemplo uma transação bancária pela Internet pelo protocolo HTTPS.

%fazer um sistema tão difícil de quebrar quanto um sistema vigente atualmente

\section{Escopo}
%Falar aqui exatamente o que o sistema faz e o que ele não faz! Falar de problemas que existem, mas que ficam fora do nosso escopo.
O software a ser desenvolvido será designado por "Sistema de SMS Seguro".
O objetivo do software é prover uma camada de segurança a nível de aplicação para mensagens SMS em redes de telefonia móvel. O software deverá fornecer alguns serviços básicos de segurança como confidencialidade, integridade e autenticidade das mensagens SMS, permitindo ao usuário assinar, cifrar, decifrar e verificar mensagens enviadas por SMS. As soluções adotadas no projeto envolvem criptografia de chave pública, criptografia baseada em idententidade e também esquemas auto-certificados. Tal adoção deve deve dispensar a existência de um diretório de chaves públicas, uma vez que seria necessário o uso de certificados que ocupam muita banda do abiente restrito utilizado e encarece o processo.

O software será aplicável em áreas que requeiram segurança da informação que trafega nas redes de telefonia móvel. Alguns exemplos são aplicações militares, bancárias, comunicação pessoal sigilosa e comércio eletrônico. Os principais benefícios do sistema são a sua flexibilidade, podendo ser adaptado às necessidades dos clientes, e leveza, já que sua arquitetura é restrita à camada de aplicação: o software opera sobre a camada de aplicação do modelo OSI, sendo transparente à arquitetura interna da rede móvel. Essas duas qualidades tornam possível sua viabilidade em diversos cenários.

O Sistema de SMS Seguro não é responsável pela confiabilidade e disponibilidade de entrega das mensagens independente de sua natureza, essa função é de responsabilidade do fornecedor da aplicação que utiliza o protocolo, no caso de mensagens SMS a responsabilidade de entrega será da operadora telefônica, no caso de serviços de e-mail a responsabilidade de entrega é conferida ao servidor que fornece o serviço, etc.

No caso do serviço SMS, se houver qualquer tipo de clonagem de telefone o Sistema Seguro de SMS não mais se responsabiliza pelo serviço de segurança, uma vez que o número do telefone é o identificador do usuário e não mais poderá garantir a autenticidade do emissor das mensagens produzidas pelo dispositivo clonado. Porém, a vantagem do sistema é que ele é capaz de perceber a clonagem quando uma nova mensagem é enviada a partir do telefone clonado.

Uma outra característica não tratada é a irretratabilidade, ou seja, o sistema não fornece este serviço, porém pode ser feita uma pesquisa de viabilidade futura para tornar possível implemetar o serviço de irretratabilidade.

\section{Métricas}

A seguir, definimos as métricas desejadas. % e suas limitações.

\begin{itemize}

\item Nível de segurança: Desejamos que o nível de segurança de nosso protocolo seja equiparável ao nível de segurança do RSA usando chaves de 1024 bits, que pode ser calculado como  2 a 1024. %TODO: fix essa gambi, e citar

\item Tempo de espera: Consiste nos tempos para cifrassinar e vericifrar uma mensagem. Baseando-se em aplicações já existentes e satisfazendo os requisitos de usabilidade de nosso projeto, estimamos que um intervalo de espera para processamento de uma mensagem de no máximo 5 segundos seja tolerável pelo usuário.

\item Tamanho máximo de mensagens do protocolo: Consiste da soma dos bytes úteis da mensagem com os bytes de controle do algoritmo. Implementações SMS baseadas em \emph{Sun Wireless Messaging API (WMA)} podem dividir uma única mensagem em, no máximo, 3 segmentos, totalizando 399 bytes binários \cite{ortiz}. Porém para evitar problemas devido à segmentação, decidimos que as mensagens do nosso protocolo deverão caber em apenas 1 segmento, o que nos dá um tamanho de 140 bytes binários para cada mensagem do protocolo.

\item Tamanho das chaves privada/pública: Devido às limitações de banda, estabeleceu-se que cada o tamanho chave usada não deverá exceder 200 bits. No entanto, essa restrição não deve comprometer o nível de segurança desejado.

\item Tamanho máximo de uma mensagem de texto a ser cifrassinada e enviada: Uma mensagem cifrassinada deverá caber em uma única mensagem do protocolo, cujo tamanho máixmo foi defindo em 140 bytes. Porém nem todos os bytes poderão ser usados para a mensagem, pois existirá um overhead do protocolo, devido à cabeçalhos e dados da assinatura. Estabelecemos então um tamanho máximo de 70 bytes para uma mensagem de texto. Desta forma, ficam reservados outros 70 bytes para o overhead e a assinatura.

\item Tamanho do certificado: Devido às limitações de banda, estabeleceu-se que o tamanho do certificado de uma chave não deverá exceder 512 bits. Desejamos poder transferir o certificado em um único SMS, sem comprometer o espaço necessário para o overhead do protocolo. \footnote{Mais tarde o leitor verá que optamos por um esquema que não usa certificados, ou seja, esta métrica será atendida com 0 bits de tamanho de certificado}

\end{itemize}

\chapter{Discussão}

%TODO: aqui ta tudo igual ao paper... alterar, enriquecer!
Sabendo que um certificado digital típico ocupa entre 2KB e 4KB, nota-se aqui que uma solução baseada em infra-estrutura convencional de chaves públicas inviabilizaria completamente o sistema: antes de se enviar uma mensagem SMS segura para algum usuário, seria necessário receber o certificado desse usuário particionado em 15 a 30 mensagens SMS, além de enviar em resposta outro certificado em mais 15 a 30 mensagens SMS. Esse esforço precisaria ser efetuado novamente para cada novo destinatário a quem determinado usuário desejasse enviar mensagens, ou em cada caso de renovação ou revogação de certificado. Some-se a isto o espaço ocupado por uma única assinatura convencional, tipicamente de 128 bytes por estar baseada no algoritmo RSA com 1024 bits; este \emph{overhead} seria duplicado com o requisito de cifrar e assinar a mensagem, isto é, tomaria 256 bytes do espaço disponível. 

Por outro lado, a manutenção de um diretório confiável de chaves públicas, típico de sistemas de criptografia convencionais, seria impraticável em uma rede de telefonia celular.  Uma solução tecnológica baseada em alternativas à criptografia convencional é, portanto, imprescindível.

Sendo assim, foi considerado o uso de criptografia em curvas elípticas com assinatura baseada em identidades, de acordo com o conceito proposto inicialmente por Shamir \cite{shamir}. Aprofundando-se na especificação, percebeu-se ainda que a chave pública do usuário poderia ser estabelecida essencialmente a partir de sua identificação única no sistema, ou seja, seu próprio número de celular. Desse modo, a criptografia em curvas elípticas baseada em identidades com emparelhamentos bilineares parecia ser capaz de atender aos requisitos do nosso aplicativo.%. e foi inicialmente adotada na solução do projeto.

\chapter{Preliminares teóricas}% (assunto geral: curvas elípticas, emparelhamento, identidadesz protocolos, conceitos, etc)

\section{Curvas Elítpticas}
%Geovs coloque sua seção aqui...
\section{Emparelhamento}
%Dar uma introdução do que é emparalhamento, apresentar os emparelhamentos ATE e ETA
\section{Criptografia baseada em identidades}
%Explicar o que é isso para um leitor leigo
\section{Alternativas existentes}% (RSA, coisas mobile)
%Não sei o que escrever aqui... sacrificar???
\section{Revisão literatura} %????
%Hein? Que isso? Sacrificar talvez...


\chapter{Escolha de um esquema criptográfico adequado}
%Explicar aqui que analisamos os seguintes candidatos.
\section{BLMQ}
\subsection{Definições}
%Definir o algoritmo
\subsection{Testes de viabilidade}
%Tabelinha de testes preliminares, mostrar que não satisfazia os requisitos de tempo,
%falar de tentativas de resolver os problemas, alguns sucessos e alguns fracassos
\section{BDCPS}
%Falar aqui que o Barreto inventou o novo algoritmo, que publicou o SBSEG
\subsection{Definições}
%Definir o algoritmo
\subsection{Testes de viabilidade}
%Tabelinha de testes preliminares, mostrar que ficou bonzão!
\section{Conclusão} %TODO: mudar o nome dessa subseção, Conclusão é muito ambíguo
%Falar que escolhemos o BDCPS e trabalharemos com ele daqui pra frente

\chapter{Especificação do sistema}

\section{Requisitos funcionais}
%Copiar do doc velho, mas adaptando bastantes às mudanças
\section{Requisitos não-funcionais}
%Copiar do doc velho, mas adaptando bastantes às mudanças
\section{Arquitetura}
%Diag de arquitetura, pequenas considerações, seção bem curta
\section{Classes}
%Diag de classes aqui, e descrição das classes
\section{Casos de uso}
%Diag de casos de uso, e descrição do fluxo
\section{Especificação do protocolo}
%Falar das nossas primitivas, como é feita serialização dos bytes em cada mensagem, etc
%Deixa que eu faço (Eduardo)


\chapter{Implementação}

\section{Metodologia}
%TODO: Alguém faz ae... Não sei o que escrever aqui... sacrificar talvez?
\section{Ambiente de desenvolvimento}
%Netbeans, Wireless ToolKit, 
\section{Bibliotecas usadas}
%FLoggy, BouncyCastle, SMSPairings do Barreto
\section{Problemas encontrados}
%Falar dos problemas encontrados nesta etapa


%TODO: pitanga o que é isso de modelos?
%\chapter{Modelos}%, justificar o sistema
%Seria isso modelo de negócio? (vale a pena por na monografia)?

\chapter{Resultados}% (tabelas, etc, os objetivos foram alcançados? Testes, benchmarks)
\section{Desempenho}
%tabelas com os nossos tempos

\chapter{Conclusão}
%Falar aqui do WTICG? 
\section{Análise dos resultados}
%Falar que os resultados foram muito bons, funcionou bem
\section{Possíveis desenvolvimentos futuros}% (ordenar artigos) ????

\bibliography{Monografia}

\appendix

\chapter{Apêndice}\label{app:apendiceA}

\end{document}
